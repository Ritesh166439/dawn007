<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
<div x-data="{searchBarOpen:false}" class="relative bg-white">
    <div class="px-4 max-auto sm:px-8">
        <div class="flex items-center justify-center py-6 md:justify-start md:space-x-10">

            <!-- Store name -->
            <div class="flex justify-start truncate lg:flex-1">
                {% comment %} <h1 class="text-xl font-bold truncate">
                    {{shop.name}}
                </h1> {% endcomment %}
                {% if settings.logo != blank %}
                <img src="{{ settings.logo | image_url }}" alt="{{ shop.name }}" width="{{ settings.logo_width }}"
                    loading="lazy">
                {% else %}
                <span class="site-title">{{ shop.name }}</span>
                {% endif %}
            </div>
            <!-- Navigation menu -->
            <div class="hidden space-x-10 md:flex">
                {% for link in section.settings.menu.links %}
                {% if link.links != blank %}
                <div class="relative">
                    <button class="inline-flex item-center">
                        {{ link.title }}
                        {% render 'icon-dropdown-menu' %}
                    </button>
                </div>
                {% else %}
                <a href="{{ link.url }}" class="text-base text-gray-500 hover:text-gray-700">
                    {{ link.title }}
                </a>
                {% endif %}
                {% endfor %}
            </div>
            <!-- cart button/ account link  -->
            <div class="items-center justify-end hidden space-x-1 md:flex md:flex-1">
                <button x-on:click="searchBarOpen = true" type="button"
                    class="text-base text-gray-500 white-space-nowrap hover:text-gray-900">
                    {% render 'icon-search' %}
                </button>
                <a href="{{routes.cart_url}}" class="text-base text-gray-500 white-space-nowrap hover:text-gray-900">
                    {% render 'icon-shopping-bag' %}
                </a>
                {% if shop.customer_accounts_enabled %}
                {% if customer %}

                <a href="{{ routes.account_url }}" class="text-base text-gray-500 hover:text-gray-900">account
                    {{'logout' | customer_logout_link | replace: '
                    <a', '<a class="text-base text-gray-500 hover:text-gray-900"' }} </a>
                        {% else %}

                        {{'login' | customer_login_link | replace: '
                        <a', '<a class="text-base text-gray-500 hover:text-gray-900"' }}
                            {{'Register'|customer_register_link | replace: '<a'
                            , '<a class="text-base text-gray-500 hover:text-gray-900"' }} {% endif %} {% endif %} </div>
            </div>
            <div x-show="searchBarOpen" class="absolute top-0 w-full bg-gray-100 border">
                <button type="button" x-on:click="searchBarOpen=false"
                    class="absolute top-0 right-0 mt-5 mr-1 tex-gray-500">
                    {% render 'icon-close' %}
                </button>
                <div class="flex items-center justify-center h-40">
                    <form action="{{routes.search_url}}" method="get">
                        <div class="relative px-10 text-gray-500">
                            <input type="search" name="q" placeholder="Search"
                                class="w-full h-10 px-5 pr-10 text-sm bg-white border border-gray-500 rounded-full focus:outline-none">
                            <button type="submit" class="absolute top-0 right-0 mt-2 md:mr-20">

                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    {% schema %}
    {
    "name": "header",
    "settings": [
    {
    "type": "link_list",
    "id": "menu",
    "label": "Menu",
    "default": "main-menu"
    }
    ]
    }
    {% endschema %}